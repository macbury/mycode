<% content_for :head do %>
	<%= include_syntax_highlighter_assets(:themes => :midnight, :brushes => :all) %>
	<script type="text/javascript" charset="utf-8">
		$(document).ready(function () {
			SyntaxHighlighter.config.bloggerMode = false;
			SyntaxHighlighter.config.clipboardSwf = '/javascripts/clipboard.swf';
			SyntaxHighlighter.defaults['font-size'] = '12px';
			SyntaxHighlighter.defaults['wrap-lines'] = false;
			SyntaxHighlighter.defaults['light'] = true;
			SyntaxHighlighter.all();
		});
	</script>
<% end %>
<div class="content">
	<h2>Kawałki kodu</h2>
	<ul class="snippets" id="snippets">
		<%= render :partial => @snippets %>
	</ul>
	<%= will_paginate @snippets %>
</div>

<div class="sidebar">
	<% form_tag public_snippets_path, :id => 'search_form' do %>
		<%= hidden_field_tag :sortowanie, params[:sortowanie] || 0 %>
		<%= hidden_field_tag :typ, params[:typ] || -1 %>
		<%= hidden_field_tag :language, params[:language] || -1 %>
		<%= text_field_tag :keyword, params[:search] %>
	<% end %>
	
	<h3>Sortowanie:</h3>
	<ul>
		<%= filter_for :sortowanie, 0, 0, 'Alfabetycznie' %>
		<%= filter_for :sortowanie, 1, 0, 'Ostatnio dodane' %>
	</ul>
	
	<h3>Język:</h3>
	<ul>
		<%= filter_for :language, -1, -1, 'Wszystkie' %>
		<% Tool.languages.each do |name, index| %>
			<%= filter_for :language, index, -1, name %>
		<% end %>
	</ul>
</div>